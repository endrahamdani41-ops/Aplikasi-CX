<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Application</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --sidebar-bg: #0f172a;
            --main-bg: #1e293b; 
            --accent-blue: #38bdf8;
            --accent-red: #fb7185;
            --text-main: #f8fafc; 
            --text-dim: #94a3b8;  
            --border-color: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            margin: 0;
            background-color: var(--main-bg);
            color: var(--text-main);
        }

        /* Sidebar */
        .sidebar {
            height: 100vh;
            width: 280px;
            position: fixed;
            z-index: 1000;
            top: 0; left: 0;
            background-color: var(--sidebar-bg);
            transition: 0.4s;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            white-space: nowrap;
            border-right: 1px solid var(--border-color);
        }

        .sidebar-header {
            padding: 30px 25px;
            font-size: 1.4rem;
            font-weight: 600;
            color: white;
            display: flex;
            align-items: center; gap: 12px;
        }

        .menu-label { padding: 20px 25px 10px; text-transform: uppercase; font-size: 11px; color: var(--text-dim); font-weight: 700; letter-spacing: 1px; }

        .sidebar a, .add-menu-btn {
            padding: 12px 25px;
            text-decoration: none;
            font-size: 14px;
            color: var(--text-dim);
            display: flex;
            align-items: center; gap: 15px;
            transition: 0.3s;
            cursor: pointer;
        }

        .sidebar a:hover, .sidebar a.active { color: white; background: rgba(255,255,255,0.05); }
        .add-menu-btn { color: var(--accent-blue); margin-top: auto; padding-bottom: 30px; font-weight: 600; }

        /* Main Content */
        #main { margin-left: 280px; transition: 0.4s; padding: 40px; min-height: 100vh; }
        .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .toggle-btn { background: var(--sidebar-bg); color: white; border: 1px solid var(--border-color); padding: 10px 12px; border-radius: 8px; cursor: pointer; }

        /* Card Grid */
        .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 25px; }

        .app-card {
            background: var(--card-theme-bg, #334155); /* Dinamis dari JS */
            padding: 60px 30px;
            border-radius: 24px;
            text-align: center;
            position: relative;
            transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--card-theme-border, var(--border-color));
            display: flex; flex-direction: column; align-items: center;
        }

        .app-card:hover {  
            transform: translateY(-8px); 
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            filter: brightness(1.1);
        }

        /* Action Buttons */
        .card-actions {
            position: absolute;
            top: 20px; right: 20px;
            display: flex; gap: 10px;
        }

        .action-btn {
            width: 32px; height: 32px; border-radius: 8px; border: none;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            font-size: 13px; color: white; background: rgba(0,0,0,0.3); transition: 0.2s;
        }
        .action-btn:hover { background: rgba(0,0,0,0.6); transform: scale(1.1); }

        /* Icon Wrapper */
        .main-icon-wrapper {
            width: 75px; height: 75px; 
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px; display: flex; align-items: center; justify-content: center;
            margin-bottom: 20px; transition: 0.3s;
        }
        .main-icon-wrapper i { font-size: 32px; color: var(--card-theme-icon, var(--accent-blue)); }

        .app-card h4 { margin: 10px 0 5px; font-size: 20px; color: var(--text-main); }
        .app-card p { color: var(--text-dim); font-size: 14px; margin: 0; }
        .card-link { text-decoration: none; color: inherit; width: 100%; }

        /* Modal */
        .modal {
            display: none; position: fixed; z-index: 2000;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.7); backdrop-filter: blur(8px);
        }
        .modal-content {
            background: #1e293b; margin: 10% auto; padding: 35px;
            border-radius: 20px; width: 90%; max-width: 400px;
            border: 1px solid var(--border-color);
        }
        .modal-content input, .modal-content select { 
            width: 100%; padding: 12px; margin: 10px 0; 
            border: 1px solid var(--border-color); 
            border-radius: 10px; box-sizing: border-box; 
            background: #0f172a; color: white; outline: none;
        }
        .btn-save { background: var(--accent-blue); color: white; border: none; padding: 14px; border-radius: 10px; cursor: pointer; width: 100%; font-weight: 600; margin-top: 15px; }

        @media screen and (max-width: 768px) { .sidebar { width: 0; } #main { margin-left: 0; padding: 25px; } }
    </style>
</head>
<body>

<div id="appModal" class="modal">
    <div class="modal-content">
        <h3 id="modalTitle">Konfigurasi Aplikasi</h3>
        <input type="hidden" id="editIndex">
        <input type="text" id="appName" placeholder="Nama Aplikasi">
        <input type="text" id="appDesc" placeholder="Deskripsi Singkat">
        <input type="text" id="appLink" placeholder="Link URL (https://...)">
        <label style="font-size: 12px; color: var(--text-dim);">Pilih Warna Kartu:</label>
        <select id="appColor">
            <option value="#38bdf8">ðŸ”µ Biru Cerah</option>
            <option value="#a855f7">ðŸŸ£ Ungu Elegant</option>
            <option value="#10b981">ðŸŸ¢ Hijau Emerald</option>
            <option value="#f59e0b">ðŸŸ  Amber Oranye</option>
            <option value="#fb7185">ðŸ”´ Soft Red</option>
            <option value="#6366f1">ðŸ”µ Indigo Night</option>
        </select>
        <button class="btn-save" onclick="saveApp()">Simpan</button>
        <button class="btn-save" style="background:transparent; border: 1px solid var(--border-color); margin-top: 8px;" onclick="closeModal()">Batal</button>
    </div>
</div>

<div id="mySidebar" class="sidebar">
    <div class="sidebar-header"><i class="fas fa-university" style="color: var(--accent-blue);"></i> <span>Aplikasi CX</span></div>
    <div class="menu-label">Navigasi</div>
    <a href="#" class="active"><i class="fas fa-th-large"></i> Dashboard</a>
    <div class="menu-label">Aplikasi Utama</div>
    <div id="sidebar-links"></div>
    <div class="add-menu-btn" onclick="openModal()"><i class="fas fa-plus-circle"></i> Tambah Aplikasi</div>
</div>

<div id="main">
    <div class="top-bar">
        <button class="toggle-btn" onclick="toggleNav()"><i class="fas fa-bars"></i></button>
        <div style="font-weight: 600; color: var(--text-dim);"><i class="far fa-calendar-alt"></i> 11 Februari 2026</div>
    </div>
    <div style="margin-bottom: 40px;">
        <h2 style="margin: 0; font-size: 2rem;">SMPN 110 Jakarta</h2>
        <p style="color: var(--text-dim); margin-top: 8px;">Maju Bersama Raih Prestasi !</p>
    </div>
    <div class="card-grid" id="card-container"></div>
</div>

<script>
    let apps = JSON.parse(localStorage.getItem('smp110_colorful_apps')) || [
        { name: "E-Izin", desc: "Absensi Siswa", link: "https://endrahamdani41-ops.github.io/e-izin-smpn110/eizincx.html", icon: "fa-user-check", color: "#38bdf8" },
        { name: "E-Kaih", desc: "Jurnal Kebiasaan", link: "https://endrahamdani41-ops.github.io/jurnal7kaih/7kaih.html", icon: "fa-file-alt", color: "#a855f7" }
    ];

    let isOpen = true;

    function renderApps() {
        const sidebar = document.getElementById("sidebar-links");
        const container = document.getElementById("card-container");
        sidebar.innerHTML = ""; container.innerHTML = "";

        apps.forEach((app, index) => {
            sidebar.innerHTML += `<a href="${app.link}" target="_blank"><i class="fas ${app.icon || 'fa-link'}" style="color: ${app.color}"></i> ${app.name}</a>`;
            
            // Render Card dengan Style Dinamis
            container.innerHTML += `
                <div class="app-card" style="--card-theme-bg: ${app.color}15; --card-theme-border: ${app.color}40; --card-theme-icon: ${app.color};">
                    <div class="card-actions">
                        <button class="action-btn" onclick="openModal(${index})"><i class="fas fa-pen"></i></button>
                        <button class="action-btn" onclick="deleteApp(${index})"><i class="fas fa-trash"></i></button>
                    </div>
                    <a href="${app.link}" target="_blank" class="card-link">
                        <div class="main-icon-wrapper">
                            <i class="fas ${app.icon || 'fa-rocket'}"></i>
                        </div>
                        <h4>${app.name}</h4>
                        <p>${app.desc}</p>
                    </a>
                </div>
            `;
        });
        localStorage.setItem('smp110_colorful_apps', JSON.stringify(apps));
    }

    function openModal(index = -1) {
        document.getElementById("appModal").style.display = "block";
        if (index > -1) {
            document.getElementById("modalTitle").innerText = "Edit Aplikasi";
            document.getElementById("editIndex").value = index;
            document.getElementById("appName").value = apps[index].name;
            document.getElementById("appDesc").value = apps[index].desc;
            document.getElementById("appLink").value = apps[index].link;
            document.getElementById("appColor").value = apps[index].color || "#38bdf8";
        } else {
            document.getElementById("modalTitle").innerText = "Tambah Aplikasi";
            document.getElementById("editIndex").value = -1;
            document.getElementById("appName").value = "";
            document.getElementById("appDesc").value = "";
            document.getElementById("appLink").value = "";
            document.getElementById("appColor").value = "#38bdf8";
        }
    }

    function closeModal() { document.getElementById("appModal").style.display = "none"; }

    function saveApp() {
        const index = document.getElementById("editIndex").value;
        const newApp = {
            name: document.getElementById("appName").value,
            desc: document.getElementById("appDesc").value,
            link: document.getElementById("appLink").value,
            color: document.getElementById("appColor").value,
            icon: index > -1 ? apps[index].icon : "fa-rocket"
        };
        if (!newApp.name || !newApp.link) return alert("Isi Nama dan Link!");
        if (index > -1) apps[index] = newApp; else apps.push(newApp);
        renderApps(); closeModal();
    }

    function deleteApp(index) {
        if (confirm(`Hapus ${apps[index].name}?`)) { apps.splice(index, 1); renderApps(); }
    }

    function toggleNav() {
        const sb = document.getElementById("mySidebar");
        const mn = document.getElementById("main");
        if (isOpen) { sb.style.width = "0"; mn.style.marginLeft = "0"; } 
        else { sb.style.width = "280px"; mn.style.marginLeft = "280px"; }
        isOpen = !isOpen;
    }

    window.onload = renderApps;
</script>
</body>
</html>